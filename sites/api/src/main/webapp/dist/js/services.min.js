/*!
 * ©2012-2016, gxb.wechat v1.0.0
 * Description: 高校邦微信项目 - 粉笔匠
 * Author: GXB Development Group
 * Build Time: Thu Mar 09 2017 18:25:35 GMT+0800 (CST)
 */
!function(e,r,t){e.baseSrv=function(){},e.baseSrv.prototype.resolveUrl=function(e){var t="<%= remoteServer %><%= suffix %><%= fixed %>";return r.stringUtils.format(t,{remoteServer:gxb.settings.server.remoteServer,suffix:e,fixed:e.indexOf("?")==-1?"?openId="+window.localStorage.openId:"&openId="+window.localStorage.openId})},e.baseSrv.prototype.doPost=function(e){return r.ajaxUtils.doPost(e)},e.baseSrv.prototype.doGet=function(e){return r.ajaxUtils.doGet(e)},e.baseSrv.prototype.doPut=function(e){return r.ajaxUtils.doPut(e)},e.baseSrv.prototype.doDelete=function(e){return r.ajaxUtils.doDelete(e)},e.baseSrv.prototype.doHead=function(e){return r.ajaxUtils.doHead(e)}}(gxb.services,gxb.utils,gxb.controllers),function(e){e.registerNamespace("gxb.services.users"),e.registerNamespace("gxb.services.indexs"),e.registerNamespace("gxb.services.course"),e.registerNamespace("gxb.services.chapter"),e.registerNamespace("gxb.services.chapterVideo")}(gxb.components),function(e){e.users.certificationSrv=function(){},e.inheritFromSrv(e.users.certificationSrv),e.users.certificationSrv.prototype.getSchoolList=function(){var e=this.resolveUrl("/school/getSchoolList");return this.doGet({url:e})},e.users.certificationSrv.prototype.bindingSchool=function(e,r){var t=this.resolveUrl("/user/binding?access_token="+e);return this.doPost({url:t,data:r})},e.registerDependency("gxb.services.users.certificationSrv",[])}(gxb.services),function(e){e.users.userSrv=function(){},e.inheritFromSrv(e.users.userSrv),e.users.userSrv.prototype.doLogin=function(e,r){var t=this.resolveUrl("/user/loginOrCheck/api?type="+r);return this.doPost({url:t,data:e})},e.users.userSrv.prototype.doRegister=function(e){var r=this.resolveUrl("/user/register/api");return this.doPost({url:r,data:e})},e.users.userSrv.prototype.doStudentRegister=function(e){var r=this.resolveUrl("/user/student/register/api");return this.doPost({url:r,data:e})},e.users.userSrv.prototype.getCode=function(e){var r=this.resolveUrl("/user/getPhoneSMSCode?mobile="+e);return this.doGet({url:r})},e.users.userSrv.prototype.verifyCode=function(e){var r=this.resolveUrl("/user/verifySmsCode");return this.doPost({url:r,data:e})},e.users.userSrv.prototype.changeName=function(e,r){var t=this.resolveUrl("/user/updateName/api?userId="+e+"&name="+r);return this.doPut({url:t})},e.users.userSrv.prototype.getPersonalMessage=function(e){var r=this.resolveUrl("/user/getUserInfo?access_token="+e);return this.doGet({url:r})},e.users.userSrv.prototype.getScore=function(e){var r=this.resolveUrl("/userinfo/applyScore?access_token="+e);return this.doGet({url:r})},e.users.userSrv.prototype.getReport=function(e){var r=this.resolveUrl("/userinfo/getReport?access_token="+e);return this.doGet({url:r})},e.users.userSrv.prototype.getCredit=function(e,r){var t=this.resolveUrl("/feedback/submit?unionId="+e);return this.doPost({url:t,data:r})},e.users.userSrv.prototype.getMobileCode=function(e){var r=this.resolveUrl("/user/getMobileCode?mobile="+e);return this.doGet({url:r})},e.users.userSrv.prototype.checkMobileCode=function(e){var r=this.resolveUrl("/user/checkMobileCode");return this.doPost({url:r,data:e})},e.users.userSrv.prototype.getRegister=function(e){var r=this.resolveUrl("/user/register");return this.doPost({url:r,data:e})},e.users.userSrv.prototype.checkReport=function(e){var r=this.resolveUrl("/userinfo/checkReport?access_token="+e);return this.doGet({url:r})},e.users.userSrv.prototype.shareReport=function(e){var r=this.resolveUrl("/userinfo/getReportById?id="+e);return this.doGet({url:r})},e.users.userSrv.prototype.verifyMobile=function(e){var r=new RegExp("^[1][34587][0-9]{9}$");return!!r.test(e)},e.users.userSrv.prototype.verifyPassword=function(e){var r=e.match(/((?=.*\d)(?=.*\D)|(?=.*[a-zA-Z])(?=.*[^a-zA-Z]))^.{6,16}$/);return null!=r},e.registerDependency("gxb.services.users.userSrv",[])}(gxb.services),function(e){e.users.wechatSrv=function(){},e.inheritFromSrv(e.users.wechatSrv),e.users.wechatSrv.prototype.getRequestCodeUrl=function(e){var r=this.resolveUrl("/wx-qa/getRequestCodeUrl.htm?url="+e);return this.doGet({url:r})},e.users.wechatSrv.prototype.getWechatTokenAndTicket=function(e){var r=this.resolveUrl("/elective/login/wxlogin?code="+e);return this.doGet({url:r})},e.users.wechatSrv.prototype.checkOpenId=function(e){var r=this.resolveUrl("/user/checkOpenId?"+e);return this.doGet({url:r})},e.registerDependency("gxb.services.users.wechatSrv",[])}(gxb.services),function(e){e.indexs.indexSrv=function(){},e.inheritFromSrv(e.indexs.indexSrv),e.indexs.indexSrv.prototype.testServices=function(e){console.log(e);var r=this.resolveUrl("/user/loginOrCheck/api?type="+e);return this.doGet({url:r})},e.registerDependency("gxb.services.indexs.indexSrv",[])}(gxb.services),function(e){e.course.courseSrv=function(){},e.inheritFromSrv(e.course.courseSrv),e.course.courseSrv.prototype.getUserInfo=function(e){var r=this.resolveUrl("/userinfo/getuserinfo?"+e);return this.doGet({url:r})},e.registerDependency("gxb.services.course.courseSrv",[])}(gxb.services),function(e){e.chapter.chapterSrv=function(){},e.inheritFromSrv(e.chapter.chapterSrv),e.chapter.chapterSrv.prototype.testServices=function(e,r){var t=this.resolveUrl("/cource/getCource?id="+r+"&unionid="+e);return this.doGet({url:t})},e.chapter.chapterSrv.prototype.updatelock=function(e,r){var t=this.resolveUrl("/update/updatelock?unionid="+e+"&lock="+r);return this.doGet({url:t})},e.chapter.chapterSrv.prototype.updateschedule=function(e,r,t){var s=this.resolveUrl("/schedule/updateschedule?unionid="+e+"&schedule="+r+"&courceid="+t);return this.doGet({url:s})},e.registerDependency("gxb.services.chapter.chapterSrv",[])}(gxb.services),function(e){e.chapter.chapterVideoSrv=function(){},e.inheritFromSrv(e.chapter.chapterVideoSrv),e.chapter.chapterVideoSrv.prototype.testServices=function(e){var r=this.resolveUrl("/user/loginOrCheck/api?type="+e);return this.doGet({url:r})},e.registerDependency("gxb.services.chapter.chapterVideoSrv",[])}(gxb.services),function(e){e.chapter.quizSrv=function(){},e.inheritFromSrv(e.chapter.quizSrv),e.chapter.quizSrv.prototype.getTopicList=function(e,r){var t=this.resolveUrl("/examinations/findALLExaminations?cource="+e+"&unionid="+r);return this.doGet({url:t})},e.chapter.quizSrv.prototype.getSubmisson=function(e,r,t){var s=this.resolveUrl("/examinations/analysisTheAnswer?courceid="+r+"&unionid="+t);return this.doPost({url:s,data:e})},e.chapter.quizSrv.prototype.getPersonality=function(e){var r=this.resolveUrl("/userinfo/getUserInfoByUnionid?unionid="+e);return this.doGet({url:r})},e.chapter.quizSrv.prototype.sharePersonality=function(e){var r=this.resolveUrl("/rule/getRuleByPersonalitytype?personalitytype="+e);return this.doGet({url:r})},e.registerDependency("gxb.services.chapter.quizSrv",[])}(gxb.services),function(e){var r=e.services,t=e.utils,s="gxb.services",o="",i=[],n=function(e,s){t.objectUtils.isObjectOnly(e)||(e=i.pop()),i.length&&t.objectUtils.getKeys(e,function(e,o){var u=s+"."+o;t.objectUtils.isObjectOnly(e)?(i.push(e),n(e,u)):t.langUtils.isFunction(e)&&r.registerService(u,r.getDependency(u))})};t.objectUtils.getKeys(r,function(e,r){t.objectUtils.isObjectOnly(e)&&(o=s+"."+r,i.push(e),n(e,o))})}(gxb);